Analysis: The purpose of the `equals` method is to compare two double values considering special cases like NaN. The specific failed line `assertFalse(MathUtils.equals(new double[] { Double.NaN },` failed because the `equals` method does not correctly handle the comparison of arrays containing Double.NaN values.

Reasons for failure: The `equals` method implementation does not handle array comparison involving Double.NaN correctly. The current implementation only checks if both x and y are NaN without considering the array scenario. When comparing arrays containing Double.NaN values, the method should compare each element individually to handle cases like this properly.