Intent: The intent of the test case `testIssue787` is to ensure that the function `some_function()` is correctly optimized under the SIMPLE_OPTIMIZATIONS compilation level. It checks that unused variables and function arguments are removed, and that the function maintains correct behavior after optimization.

Repair Strategy: The error in the source code likely lies in the handling of function arguments and possibly in the optimization logic under the SIMPLE_OPTIMIZATIONS level. To resolve the failed test case:
1. Verify the logic in `removeUnreferencedFunctionArgs()` to ensure it correctly identifies and preserves function arguments and variables that are used within closures or conditionally, such as `fn1` in the test case.
2. Check how variables and their references are tracked across different scopes and conditions, particularly in nested or conditional definitions.
3. Adjust the optimization logic to better handle complex scenarios where function arguments and variables may not be straightforwardly unused or referenced, ensuring that optimizations do not alter the functional output of the code.