Intent: The intent of the failing test case is to verify that the method `getCharsetFromContentType` correctly extracts and normalizes the character set specified in the `Content-Type` header of an HTTP response, even when the charset value is followed by spaces. The test checks the method's ability to handle case insensitivity and whitespace trimming correctly.

Repair strategy: Modify the source code to ensure that trailing spaces after the charset value are effectively trimmed before converting the charset value to upper case. The `trim()` function should be applied after extracting the charset value from the `Content-Type` string and before converting it to uppercase. This will ensure that any extraneous whitespace does not affect the normalization and comparison of charset values.