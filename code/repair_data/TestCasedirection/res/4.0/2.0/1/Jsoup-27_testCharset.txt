Intent: The purpose of the test case `testCharset()` is to verify that the method `getCharsetFromContentType` correctly extracts the charset from a given content type string, handles null inputs, and returns the charset in uppercase. Specifically, the test checks for correct extraction and conversion to uppercase, handling of content types with varying cases and spaces, and correct handling of content types without a charset or with an unknown charset.

Repair strategy: The source code should be adjusted to handle trailing spaces in the charset specification within the content type string. The regular expression `charsetPattern` used to find and extract the charset might need to be modified to ignore trailing spaces after the charset value before the closing quote or semicolon. This will ensure that charsets with trailing spaces are correctly trimmed and matched. Additionally, ensure that the pattern correctly ignores case differences and spaces around the equals sign.