Intent: The `handlesInvalidAttributeNames` test case is designed to verify that the `copyAttributes` method correctly processes and cleans up attribute names that are valid in HTML5 but invalid under XML rules. It ensures that attributes with unusual characters (like quotes) are either removed or sanitized to comply with XML standards, which do not allow such characters in attribute names.

Repair strategy: Modify the `copyAttributes` method to ensure that it effectively removes or sanitizes attributes with characters that are not compliant with XML naming conventions. The regular expression used in `attribute.getKey().replaceAll("[^-a-zA-Z0-9_:.]", "")` should be revisited to confirm that it effectively strips out or modifies invalid characters such as quotes. Additionally, consider enhancing the regular expression or adding explicit checks and transformations for known problematic characters to ensure XML compatibility.